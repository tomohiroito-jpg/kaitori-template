<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è²·å–ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆãƒ„ãƒ¼ãƒ«</title>
  <style>
    :root {
      --primary: #00796b;
      --primary-light: #26a69a;
      --primary-lighter: #4db6ac;
      --accent: #b2dfdb;
      --accent-light: #e0f7fa;
      --bg-output: #f1f8f6;
      --error: #d32f2f;
      --success: #43a047;
      --gray: #78909c;
      --border-radius: 8px;
      --shadow: 0 4px 15px rgba(0, 121, 107, 0.3);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Hiragino Kaku Gothic Pro', 'Meiryo', sans-serif;
      background: linear-gradient(135deg, var(--accent-light) 0%, #b2ebf2 100%);
      color: #333;
      padding: 20px;
      min-height: 100vh;
      line-height: 1.6;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    .container {
      max-width: 700px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }

    h1 {
      color: var(--primary);
      text-align: center;
      margin-bottom: 10px;
      font-size: 26px;
      font-weight: bold;
    }

    .subtitle {
      text-align: center;
      color: var(--primary);
      font-size: 13px;
      margin-bottom: 25px;
      font-weight: 500;
    }

    .button-area {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .form-group { margin-bottom: 20px; }

    label {
      display: block;
      margin-bottom: 8px;
      color: var(--primary);
      font-weight: bold;
      font-size: 15px;
    }

    .required {
      color: var(--error);
      font-size: 12px;
      margin-left: 5px;
    }

    input[type="text"], textarea, select {
      width: 100%;
      padding: 12px;
      border: 2px solid var(--accent);
      border-radius: var(--border-radius);
      font-size: 15px;
      transition: all 0.3s ease;
      font-family: inherit;
      background: white;
    }

    select {
      appearance: none;
      background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8"><path fill="%2300796b" d="M1.41 0L6 4.58 10.59 0 12 1.41l-6 6-6-6z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 12px 8px;
      padding-right: 35px;
    }

    select.unselected { background-color: #fff0f0; }

    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: var(--primary-light);
      box-shadow: 0 0 0 3px rgba(38, 166, 154, 0.1);
    }

    input::placeholder, textarea::placeholder {
      color: #d0d0d0;
      font-size: 14px;
    }

    textarea {
      min-height: 100px;
      resize: vertical;
    }

    #memo { min-height: 220px; }
    #telMemo { min-height: 110px; }

    textarea.photo-instructions {
      min-height: 40px;
      height: auto;
      resize: vertical;
    }

    .red-emphasis {
      color: var(--error);
      font-weight: bold;
      display: block;
      margin-bottom: 8px;
    }

    .flex-input {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .flex-input select { flex: 2; min-width: 0; }
    .flex-input input[type="text"] { flex: 8; min-width: 0; }

    button {
      width: 30%;
      padding: 15px;
      background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 17px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 10px;
      box-shadow: var(--shadow);
    }

    button:hover {
      background: linear-gradient(135deg, #2bbbad 0%, #00897b 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 121, 107, 0.4);
    }

    button:active { transform: translateY(0); }

    .nav-button {
      width: 32%;
      min-width: 150px;
      padding: 12px 20px;
      font-size: 15px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    #outputArea, #telOutputArea {
      background-color: var(--bg-output);
      border: 2px solid var(--accent);
      border-radius: 10px;
      padding: 20px;
      min-height: 40px;
      white-space: pre-wrap;
      word-wrap: break-word;
      font-size: 14px;
      line-height: 1.8;
      margin-bottom: 15px;
      transition: min-height 0.3s ease;
    }

    #copyBtn {
      background: linear-gradient(135deg, var(--primary-lighter) 0%, var(--primary-light) 100%);
      margin-top: 0;
    }

    #copyBtn:hover {
      background: linear-gradient(135deg, #80cbc4 0%, var(--primary-lighter) 100%);
    }

    #copyBtn.copied {
      background: linear-gradient(135deg, #66bb6a 0%, var(--success) 100%);
    }

    .clear-buttons {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }

    .clear-btn {
      flex: 0 0 30%;
      background: linear-gradient(135deg, #ef5350 0%, #e53935 100%);
      padding: 12px;
      font-size: 15px;
    }

    .clear-btn:hover {
      background: linear-gradient(135deg, #f44336 0%, var(--error) 100%);
    }

    #memoArea, #telMemoArea {
      margin-top: 30px;
      padding-top: 30px;
      border-top: 2px solid var(--accent);
    }

    .screen { display: none; }
    .screen.active { display: block; }

    .annotation {
      color: var(--error);
      font-weight: bold;
      font-size: 14px;
      text-align: center;
      margin: 15px 0 10px 0;
    }

    .manual-content {
      line-height: 1.9;
      overflow-y: visible;
    }

    .manual-content h2 {
      color: var(--primary);
      margin-top: 30px;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid var(--accent);
      font-size: 22px;
    }

    .manual-content h3 {
      color: #00897b;
      margin-top: 25px;
      margin-bottom: 12px;
      font-size: 18px;
    }

    .manual-content ul {
      margin-left: 25px;
      margin-bottom: 15px;
    }

    .manual-content li {
      margin-bottom: 10px;
      line-height: 1.8;
    }

    .manual-content p { margin-bottom: 15px; }
    .manual-content strong { color: var(--primary); }

    .back-button {
      background: linear-gradient(135deg, var(--gray) 0%, #546e7a 100%);
      margin-bottom: 25px;
    }

    .back-button:hover {
      background: linear-gradient(135deg, #90a4ae 0%, var(--gray) 100%);
    }

    .manual-btn-bottom {
      position: relative;
      margin-top: 20px;
      background: linear-gradient(135deg, var(--gray) 0%, #546e7a 100%);
      padding: 12px;
      font-size: 15px;
      width: 100%;
    }

    .manual-btn-bottom:hover {
      background: linear-gradient(135deg, #90a4ae 0%, var(--gray) 100%);
    }

    @media screen and (max-width: 768px) {
      .container { padding: 20px; min-height: auto; }
      h1 { font-size: 22px; }
      .subtitle { font-size: 12px; }
      button { font-size: 15px; padding: 12px; width: 45%; }
      .clear-btn { flex: 0 0 45%; }
      .button-area { flex-direction: column; align-items: stretch; }
      .nav-button { width: 100%; min-width: 100%; }
    }
  </style>
</head>
<body>

<div class="container">

  <!-- ãƒ¡ã‚¤ãƒ³ç”»é¢ -->
  <div id="mainScreen" class="screen active">
    <h1>è²·å–ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆãƒ„ãƒ¼ãƒ«</h1>
    <p class="subtitle">ã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠã™ã‚‹ã¨ã€å¿…è¦ãªé …ç›®ãŒè‡ªå‹•çš„ã«è¡¨ç¤ºã•ã‚Œã¾ã™</p>

    <div class="button-area">
      <button id="telephoneBtn" class="nav-button">â˜å—é›»å¯¾å¿œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</button>
    </div>

    <div class="form-group">
      <label for="storeName">ã€æ‹…å½“åº—èˆ—ãƒ»å‚¬äº‹ã€‘<span class="required">â€»å¿…é ˆ</span></label>
      <input type="text" id="storeName" placeholder="'åº—èˆ—å'ã¾ãŸã¯'å‚¬äº‹'ã‚’å…¥åŠ›">
    </div>

    <div class="form-group">
      <label for="genre">ã€ã‚¸ãƒ£ãƒ³ãƒ«ã€‘<span class="required">â€»å¿…é ˆ</span></label>
      <select id="genre" class="unselected">
        <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
        <option value="ãƒãƒƒã‚°">ãƒãƒƒã‚°</option>
        <option value="è²¡å¸ƒãƒ»å°ç‰©">è²¡å¸ƒãƒ»å°ç‰©</option>
        <option value="æ™‚è¨ˆ">æ™‚è¨ˆ</option>
        <option value="è²´é‡‘å±ãƒ»ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼">è²´é‡‘å±ãƒ»ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼</option>
        <option value="å®çŸ³">å®çŸ³</option>
        <option value="ã‚¢ãƒ‘ãƒ¬ãƒ«">ã‚¢ãƒ‘ãƒ¬ãƒ«</option>
        <option value="å®¶é›»">å®¶é›»</option>
        <option value="ã‚¹ãƒãƒ›">ã‚¹ãƒãƒ›</option>
        <option value="ãƒ›ãƒ“ãƒ¼">ãƒ›ãƒ“ãƒ¼</option>
        <option value="ãŠé…’">ãŠé…’</option>
        <option value="éª¨è‘£">éª¨è‘£</option>
        <option value="æ¥½å™¨">æ¥½å™¨</option>
        <option value="æ—¥æœ¬åˆ€">æ—¥æœ¬åˆ€</option>
        <option value="è¨˜å¿µç¡¬è²¨">è¨˜å¿µç¡¬è²¨</option>
        <option value="å¤éŠ­">å¤éŠ­</option>
        <option value="ãã®ä»–é“å…·é¡">ãã®ä»–é“å…·é¡</option>
        <option value="é‡‘åˆ¸">é‡‘åˆ¸</option>
        <option value="ãã®ä»–">ãã®ä»–</option>
      </select>
    </div>

    <div id="dynamicFields"></div>

    <button onclick="generateTemplate()">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆ</button>
    <div id="outputArea"></div>
    <button id="copyBtn" onclick="copyToClipboard()">ã‚³ãƒ”ãƒ¼ã™ã‚‹</button>

    <div class="clear-buttons">
      <button class="clear-btn" onclick="clearTemplate()">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚¯ãƒªã‚¢</button>
    </div>

    <div id="memoArea">
      <div class="form-group">
        <label for="memo">ã€ãƒ¡ãƒ¢æ¬„ã€‘</label>
        <textarea id="memo" placeholder="ã“ã“ã«ã‚³ãƒ”ãƒ¼ã—ãŸå†…å®¹ã‚’ãƒšãƒ¼ã‚¹ãƒˆã§ãã¾ã™"></textarea>
      </div>
      <div class="clear-buttons">
        <button class="clear-btn" onclick="clearMemo()">ãƒ¡ãƒ¢ã®ã‚¯ãƒªã‚¢</button>
      </div>
    </div>

    <button class="manual-btn-bottom" onclick="switchScreen('manual')">ä½¿ã„æ–¹ãƒãƒ‹ãƒ¥ã‚¢ãƒ«</button>
  </div>

  <!-- å—é›»å¯¾å¿œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”»é¢ -->
  <div id="telephoneScreen" class="screen">
    <h1>å—é›»å¯¾å¿œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</h1>
    <p class="subtitle">é›»è©±å¯¾å¿œæ™‚ã®è¨˜éŒ²ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã¾ã™</p>

    <button class="back-button" onclick="switchScreen('main')">â† è²·å–ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«æˆ»ã‚‹</button>

    <div class="form-group">
      <label for="telStoreName">ã€åº—èˆ—/ä¼šå ´åã€‘<span class="required">â€»å¿…é ˆ</span></label>
      <input type="text" id="telStoreName" placeholder="åº—èˆ—åãƒ»å‚¬äº‹ã‚·ãƒ•ãƒˆå">
    </div>

    <div class="form-group">
      <label for="telRequest">ã€ä¾é ¼ã€‘</label>
      <input type="text" id="telRequest" placeholder="å•ã„åˆã‚ã›ã€é›»è©±å‡ºå¼µã€ãã®ã»ã‹">
    </div>

    <div class="form-group">
      <label for="telCustomerName">ã€ãŠå®¢æ§˜æ°åï¼ˆã‚«ã‚¿ã‚«ãƒŠï¼‰ã€‘</label>
      <input type="text" id="telCustomerName" placeholder="ã‚­ãƒ ãƒ©ã€€ã‚­ãƒ§ã‚¦ã‚¹ã‚±">
    </div>

    <div class="form-group">
      <label for="telPhoneNumber">ã€é›»è©±ç•ªå·ã€‘</label>
      <input type="text" id="telPhoneNumber" placeholder="â€»æ¥åº—äºˆç´„ã‚„å•ã„åˆã‚ã›ã®ã¿ã®å ´åˆã¯ä¸è¦">
    </div>

    <div class="form-group">
      <label for="telCustomerInfo">ã€ãŠå®¢æ§˜æƒ…å ±ã€‘</label>
      <div class="flex-input">
        <select id="telCustomerInfoSelect" class="unselected">
          <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
          <option value="ç”·æ€§">ç”·æ€§</option>
          <option value="å¥³æ€§">å¥³æ€§</option>
          <option value="ãã®ä»–">ãã®ä»–</option>
        </select>
        <input type="text" id="telCustomerInfoText" placeholder="ã‚„ã‚„ã›ã£ã‹ã¡ã€ä»–åº—åˆã„è¦‹ç©ã‚‚ã‚Šã€ãƒªãƒ”ã€€ãªã©">
      </div>
    </div>

    <div class="form-group">
      <label for="telProduct">ã€å•†å“ã€‘</label>
      <input type="text" id="telProduct" placeholder="H10ä¸‡å††é‡‘è²¨ã€ç€ç‰©ã€€ãªã©">
    </div>

    <div class="form-group">
      <label for="telContent">ã€å†…å®¹ã€‘</label>
      <textarea id="telContent" placeholder="é‡‘é¡å•ã„åˆã‚ã›ã€å–ã‚Šæ‰±ã„ç¢ºèªã€æ¥åº—æ™‚é–“&#10;â†’æ‹…å½“è€…ã‚ˆã‚ŠæŠ˜ã‚Šè¿”ã—ã”æ¡ˆå†…"></textarea>
    </div>

    <div class="form-group">
      <label for="telAddress">ã€ä½æ‰€ã€‘ï¼ˆâ€»å‡ºå¼µã®å ´åˆï¼‰</label>
      <input type="text" id="telAddress" placeholder="">
    </div>

    <div class="form-group">
      <label for="telParking">ã€é§è»Šå ´ã€‘ï¼ˆâ€»å‡ºå¼µã®å ´åˆï¼‰</label>
      <div class="flex-input">
        <select id="telParkingSelect" class="unselected">
          <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
          <option value="æœ‰">æœ‰</option>
          <option value="ç„¡">ç„¡</option>
          <option value="æœªç¢ºèª">æœªç¢ºèª</option>
        </select>
        <input type="text" id="telParkingText" placeholder="é§è»Šå ´å‚™è€ƒï¼šè¿‘ãã«ã‚³ã‚¤ãƒ³ãƒ‘ãƒ¼ã‚­ãƒ³ã‚°ã®ã¿æœ‰ã€€ãªã©">
      </div>
    </div>

    <button onclick="generateTelephoneTemplate()">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆ</button>
    <div id="telOutputArea"></div>
    
    <p class="annotation">â€»æ‹…å½“ãƒ»åº—èˆ—ã«ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³</p>
    
    <button id="telCopyBtn" onclick="copyTelephoneToClipboard()">ã‚³ãƒ”ãƒ¼ã™ã‚‹</button>

    <div class="clear-buttons">
      <button class="clear-btn" onclick="clearTelephoneTemplate()">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚¯ãƒªã‚¢</button>
    </div>

    <div id="telMemoArea">
      <div class="form-group">
        <label for="telMemo">ã€ãƒ¡ãƒ¢æ¬„ã€‘</label>
        <textarea id="telMemo" placeholder="ãƒ¡ãƒ¢"></textarea>
      </div>
      <div class="clear-buttons">
        <button class="clear-btn" onclick="clearTelMemo()">ãƒ¡ãƒ¢ã®ã‚¯ãƒªã‚¢</button>
      </div>
    </div>
  </div>

  <!-- ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ç”»é¢ -->
  <div id="manualScreen" class="screen">
    <h1>ä½¿ã„æ–¹ãƒãƒ‹ãƒ¥ã‚¢ãƒ«</h1>
    <button class="back-button" onclick="switchScreen('main')">â† ãƒ¡ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚‹</button>
    
    <div class="manual-content">
      <h2>ğŸ“– ã“ã®ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦</h2>
      <p>è²·å–æ¥­å‹™ã§ä½¿ç”¨ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åŠ¹ç‡çš„ã«ä½œæˆã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚</p>

      <h2>ğŸ”§ åŸºæœ¬çš„ãªä½¿ã„æ–¹</h2>
      <ol>
        <li><strong>ã€æ‹…å½“åº—èˆ—ãƒ»å‚¬äº‹ã€‘ã¨ã€ã‚¸ãƒ£ãƒ³ãƒ«ã€‘ã‚’å…¥åŠ›</strong>ï¼ˆå¿…é ˆï¼‰</li>
        <li><strong>ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥é …ç›®ã‚’å…¥åŠ›</strong>ï¼ˆä¸­åˆ†é¡ã€ãƒ–ãƒ©ãƒ³ãƒ‰åãªã©ï¼‰</li>
        <li><strong>å†™çœŸæ’®å½±æŒ‡ç¤ºã‚’ç¢ºèª</strong></li>
        <li><strong>ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯</strong></li>
        <li><strong>ã€Œã‚³ãƒ”ãƒ¼ã™ã‚‹ã€ã§ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼</strong></li>
      </ol>

      <h2>âœ¨ ä¸»ãªæ©Ÿèƒ½</h2>
      <ul>
        <li><strong>å‹•çš„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¡¨ç¤º</strong>: ã‚¸ãƒ£ãƒ³ãƒ«é¸æŠã§å¿…è¦ãªé …ç›®ãŒè‡ªå‹•è¡¨ç¤º</li>
        <li><strong>ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½</strong>: ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼</li>
        <li><strong>ã‚¯ãƒªã‚¢æ©Ÿèƒ½</strong>: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¾ãŸã¯ãƒ¡ãƒ¢ã‚’å€‹åˆ¥ã«ã‚¯ãƒªã‚¢</li>
        <li><strong>ãƒ¡ãƒ¢æ¬„</strong>: ä¸€æ™‚çš„ãªãƒ¡ãƒ¢ã‚„ä¿å­˜ã«ä½¿ç”¨å¯èƒ½</li>
      </ul>

      <h2>ğŸ” è£œè¶³äº‹é …</h2>
      <ul>
        <li>ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã§ã€Œé¸æŠã—ã¦ãã ã•ã„ã€ã®ã¾ã¾ã®é …ç›®ã¯åæ˜ ã•ã‚Œã¾ã›ã‚“</li>
        <li>ç©ºæ¬„ã®é …ç›®ã‚‚åæ˜ ã•ã‚Œã¾ã›ã‚“</li>
        <li>æœªé¸æŠã®ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã¯è–„ã„ãƒ”ãƒ³ã‚¯è‰²ã§è¡¨ç¤ºã•ã‚Œã¾ã™</li>
      </ul>
      
      <h2>âš ï¸ æ³¨æ„äº‹é …</h2>
      <ul>
        <li>ã€Œè¦‹ç«‹ã¦é‡‘é¡ã€ã¯ä»»æ„ã§ã™ã€‚è‡ªèº«ã®ç›¸å ´è¦³ã®å‹‰å¼·ã«ãŠå½¹ç«‹ã¦ãã ã•ã„ã€‚</li>
        <li>ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ãŒåå¿œã—ãªã„å ´åˆã¯ã€ç”Ÿæˆã•ã‚ŒãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç›´æ¥ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚</li>
      </ul>

      <h2>ğŸ“¸ å†™çœŸæ’®å½±ã®ãƒã‚¤ãƒ³ãƒˆ</h2>
      <p>ã‚¸ãƒ£ãƒ³ãƒ«ã”ã¨ã«æ’®å½±æŒ‡ç¤ºãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
      <p>ã‚·ãƒªã‚¢ãƒ«ç•ªå·ã‚„åˆ»å°ã¯ã‚¢ãƒƒãƒ—ã§æ’®å½±ã—ã€ãƒ€ãƒ¡ãƒ¼ã‚¸ç®‡æ‰€ã¯å¿…ãšæ’®å½±ã—ã¦ãã ã•ã„ã€‚</p>
      
      <h2></h2>
        <p><strong>ä¸å…·åˆã‚„ã”ä¸æ˜ãªç‚¹ã€æ”¹å–„è¦æœ›ã¯ç ”ä¿®èª²ã¾ã§ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚</strong></p>
    </div>
  </div>

</div>

<script>
  // å…±é€šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©
  const commonFields = {
    customerPrice: { label: "ã€ãŠå®¢æ§˜å¸Œæœ›é¡ã€‘", id: "customerPrice", type: "text", placeholder: "" },
    estimatedPrice: { label: "ã€è¦‹ç«‹ã¦é‡‘é¡ã€‘", id: "estimatedPrice", type: "text", placeholder: "" },
    remarks: { label: "ã€å‚™è€ƒã€‘", id: "remarks", type: "text", placeholder: "" }
  };

  const conditionField = (hasText = false) => ({
    label: "ã€çŠ¶æ…‹ã€‘",
    id: "condition",
    type: hasText ? "select+text" : "text",
    options: hasText ? ["æœªä½¿ç”¨å“", "Aå“", "ABå“", "Bå“", "BCå“", "Cå“", "Då“"] : undefined,
    placeholder: hasText ? "çŠ¶æ…‹å‚™è€ƒã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä»»æ„ï¼‰" : "ä¾‹: ä½¿ç”¨æ„Ÿã‚ã‚Šã€å°å‚·ã‚ã‚Šã€ç¾å“"
  });

  // ã‚¸ãƒ£ãƒ³ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆæœ€é©åŒ–ç‰ˆï¼‰
  const genreData = {
    "ãƒãƒƒã‚°": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["ãƒˆãƒ¼ãƒˆ", "ã‚·ãƒ§ãƒ«ãƒ€ãƒ¼", "ã‚¯ãƒ©ãƒƒãƒ", "ãƒãƒ³ãƒ‰", "ãƒªãƒ¥ãƒƒã‚¯", "ãƒœã‚¹ãƒˆãƒ³", "ãƒãƒ¼ãƒ", "ãƒ“ã‚¸ãƒã‚¹", "ãã®ä»–"] },
        { label: "ã€ãƒ–ãƒ©ãƒ³ãƒ‰åã€‘", id: "brandName", type: "text", placeholder: "ä¾‹: ãƒ´ã‚£ãƒˆãƒ³ã€ã‚¨ãƒ«ãƒ¡ã‚¹ã€ã‚·ãƒ£ãƒãƒ«" },
        { label: "ã€å‹ç•ªï¼ãƒ¢ãƒ‡ãƒ«åã€‘", id: "modelName", type: "text", placeholder: "ä¾‹: M40156ã€€ãƒãƒ´ã‚¡ãƒ¼ãƒ•ãƒ«MM" },
        { label: "ã€ã‚·ãƒªã‚¢ãƒ«ã€‘", id: "serial", type: "text", placeholder: "ä¾‹: CA1234" },
        { label: "ã€ã‚µã‚¤ã‚ºã€‘", id: "size", type: "text", placeholder: "ä¾‹: W30cmÃ—H25cmÃ—D12cm" },
        conditionField(true),
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: ç®±ã€ä¿å­˜è¢‹ã€ã‚·ãƒ§ãƒ«ãƒ€ãƒ¼ã‚¹ãƒˆãƒ©ãƒƒãƒ—" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»å…¨ä½“æ­£é¢/èƒŒé¢\nãƒ»ãƒ–ãƒ©ãƒ³ãƒ‰ãƒ­ã‚´/ãƒ•ã‚¡ã‚¹ãƒŠãƒ¼åˆ»å°ï¼ˆãƒ”ãƒ³ãƒˆã‚’åˆã‚ã›ã¦ã‚¢ãƒƒãƒ—ã§ï¼‰\nãƒ»è§’ã‚„ãƒãƒ³ãƒ‰ãƒ«ãªã©æ“¦ã‚Œã‚„ã™ã„ç®‡æ‰€ï¼ˆã‚·ãƒ§ãƒ«ãƒ€ãƒ¼ç­‰ã®ä»˜ã‘æ ¹æ³¨æ„ï¼‰\nãƒ»ãƒ€ãƒ¡ãƒ¼ã‚¸ç®‡æ‰€ï¼ˆå†…å´ã‚‚ç¢ºèªï¼‰\nãƒ»ä»˜å±å“ï¼ˆç®±ã€ä¿è¨¼æ›¸ã€ãƒ¬ã‚·ãƒ¼ãƒˆãªã©ï¼‰\nâ€»è‡­ã„ãŒã‚ã‚‹å ´åˆã¯å‚™è€ƒã«è¨˜å…¥ã™ã‚‹"
    },
    "è²¡å¸ƒãƒ»å°ç‰©": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["é•·è²¡å¸ƒ", "äºŒã¤æŠ˜ã‚Š", "ä¸‰ã¤æŠ˜ã‚Š", "ã‚³ã‚¤ãƒ³ã‚±ãƒ¼ã‚¹", "ã‚«ãƒ¼ãƒ‰ã‚±ãƒ¼ã‚¹", "ã‚­ãƒ¼ã‚±ãƒ¼ã‚¹", "ãã®ä»–"] },
        { label: "ã€ãƒ–ãƒ©ãƒ³ãƒ‰åã€‘", id: "brandName", type: "text", placeholder: "ä¾‹: ãƒ´ã‚£ãƒˆãƒ³ã€ã‚°ãƒƒãƒã€ãƒ—ãƒ©ãƒ€" },
        { label: "ã€å‹ç•ªï¼ãƒ¢ãƒ‡ãƒ«åã€‘", id: "modelName", type: "text", placeholder: "ä¾‹: M42616ã€€ã‚¸ãƒƒãƒ”ãƒ¼ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ" },
        { label: "ã€ã‚·ãƒªã‚¢ãƒ«ã€‘", id: "serial", type: "text", placeholder: "ä¾‹: MI1234" },
        { label: "ã€ã‚µã‚¤ã‚ºã€‘", id: "size", type: "text", placeholder: "ä¾‹: W19cmÃ—H10cmÃ—D2cm" },
        conditionField(true),
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: ç®±ã€ä¿å­˜è¢‹" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»è¡¨é¢ã€è£é¢ã®å…¨ä½“å†™çœŸ\nãƒ»å†…å´ã‚’é–‹ã„ãŸçŠ¶æ…‹ï¼ˆã‚«ãƒ¼ãƒ‰ãƒã‚±ãƒƒãƒˆã€å°éŠ­å…¥ã‚ŒãŒè¦‹ãˆã‚‹ã‚ˆã†ã«ï¼‰\nãƒ»ãƒ–ãƒ©ãƒ³ãƒ‰ãƒ­ã‚´\nãƒ»è§’ã‚„æŠ˜ã‚Šç›®ãªã©æ“¦ã‚Œã‚„ã™ã„ç®‡æ‰€\nãƒ»ãƒ•ã‚¡ã‚¹ãƒŠãƒ¼ã‚„é‡‘å…·éƒ¨åˆ†\nãƒ»ä»˜å±å“ï¼ˆç®±ã€ä¿è¨¼æ›¸ã€ãƒ¬ã‚·ãƒ¼ãƒˆãªã©ï¼‰"
    },
    "æ™‚è¨ˆ": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["è‡ªå‹•å·»ã", "ã‚¯ã‚©ãƒ¼ãƒ„", "æ‰‹å·»ã", "ã‚½ãƒ¼ãƒ©ãƒ¼", "ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒ", "ãã®ä»–"] },
        { label: "ã€ãƒ–ãƒ©ãƒ³ãƒ‰åã€‘", id: "brandName", type: "text", placeholder: "ä¾‹: ãƒ­ãƒ¬ãƒƒã‚¯ã‚¹ã€ã‚ªãƒ¡ã‚¬ã€ã‚¿ã‚°ãƒ›ã‚¤ãƒ¤ãƒ¼" },
        { label: "ã€ãƒ¢ãƒ‡ãƒ«åãƒ»å‹ç•ªã€‘", id: "modelName", type: "text", placeholder: "ä¾‹: ã‚µãƒ–ãƒãƒªãƒ¼ãƒŠãƒ¼ 116610LN" },
        { label: "ã€å‹•ä½œç¢ºèªã€‘", id: "operationCheck", type: "select", options: ["å‹•ä½œ", "ä¸å‹•"] },
        { label: "ã€ã‚±ãƒ¼ã‚¹ã‚µã‚¤ã‚ºã€‘", id: "caseSize", type: "text", placeholder: "ä¾‹: 40mm" },
        conditionField(true),
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: ç®±ã€ä¿è¨¼æ›¸ã€ã‚®ãƒ£ãƒ©ãƒ³ãƒ†ã‚£ã‚«ãƒ¼ãƒ‰ã€ã‚³ãƒ" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»å¼•ãã§æ™‚è¨ˆå…¨ä½“ï¼ˆãƒ™ãƒ«ãƒˆã‚‚å«ã‚“ã§è¡¨ã‚„è£è¤‡æ•°æšOKï¼‰\nãƒ»æœ¬ä½“ã®æ­£é¢å†™çœŸï¼ˆæ–‡å­—ç›¤ãŒã¯ã£ãã‚Šåˆ†ã‹ã‚‹ã‚ˆã†ã«ï¼‰\nãƒ»è£è“‹/åˆ»å°ï¼ˆã‚·ãƒªã‚¢ãƒ«ã‚„åˆ»å°ãŒè¦‹ãˆã‚‹ã‚ˆã†ã«ï¼‰\nãƒ»ãƒ–ãƒ¬ã‚¹å‚ã‚Œï¼ˆãƒ­ãƒ¬ãƒƒã‚¯ã‚¹ã®ã‚¸ãƒ¥ãƒ“ãƒªãƒ¼ãƒ–ãƒ¬ã‚¹\nãƒ»å´é¢ã‚„ãƒªãƒ¥ãƒ¼ã‚ºéƒ¨åˆ†\nãƒ»å‚·ã‚„æ“¦ã‚ŒãŒã‚ã‚‹ç®‡æ‰€ï¼ˆã‚ã‚‹å ´åˆè¤‡æ•°æšï¼‰\nãƒ»ä»˜å±å“ï¼ˆç®±ã€ä¿è¨¼æ›¸ã€ä½™ã‚Šã‚³ãƒãªã©ï¼‰"
    },
    "è²´é‡‘å±ãƒ»ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["ãƒãƒƒã‚¯ãƒ¬ã‚¹", "ãƒªãƒ³ã‚°", "ãƒ–ãƒ¬ã‚¹ãƒ¬ãƒƒãƒˆ", "ãƒ”ã‚¢ã‚¹/ã‚¤ãƒ¤ãƒªãƒ³ã‚°", "ãƒ–ãƒ­ãƒ¼ãƒ", "ãã®ä»–"] },
        { label: "ã€ãƒ–ãƒ©ãƒ³ãƒ‰åã€‘", id: "brandName", type: "text", placeholder: "ä¾‹: ãƒ†ã‚£ãƒ•ã‚¡ãƒ‹ãƒ¼ã€ã‚«ãƒ«ãƒ†ã‚£ã‚¨ã€èª­ã‚ãªã„ãŒåˆ»å°ã‚ã‚Šã€€ãªã©" },
        { label: "ã€å•†å“åã€‘", id: "productName", type: "text", placeholder: "ä¾‹: ãƒ©ãƒ–ãƒ–ãƒ¬ã‚¹" },
        { label: "ã€ç´ æã€‘", id: "material", type: "text", placeholder: "ä¾‹: Pt950ã€K18YG" },
        { label: "ã€é‡é‡ã€‘", id: "weight", type: "text", placeholder: "ä¾‹: 10.5g" },
        { label: "ã€åˆ»å°ã€‘", id: "engraving", type: "text", placeholder: "ä¾‹: Pt950ã€K18ã€ãƒ–ãƒ©ãƒ³ãƒ‰åˆ»å°" },
        conditionField(),
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: ç®±ã€ä¿è¨¼æ›¸ã€é‘‘å®šæ›¸ã€é‘‘åˆ¥æ›¸" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»å…¨ä½“ã®å†™çœŸ\nãƒ»åˆ»å°éƒ¨åˆ†ï¼ˆPtã€K18ã€ãƒ–ãƒ©ãƒ³ãƒ‰åˆ»å°ãªã©ï¼‰ã‚’ã‚¢ãƒƒãƒ—ã§\nãƒ»ç•™ã‚å…·ã‚„ãƒã‚§ãƒ¼ãƒ³éƒ¨åˆ†\nãƒ»å‚·ã‚„å¤‰è‰²ãŒã‚ã‚‹ç®‡æ‰€\nãƒ»ä»˜å±å“ï¼ˆç®±ã€ä¿è¨¼æ›¸ãªã©ï¼‰"
    },
    "å®çŸ³": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["ãƒãƒƒã‚¯ãƒ¬ã‚¹", "ãƒªãƒ³ã‚°", "ãƒ–ãƒ¬ã‚¹ãƒ¬ãƒƒãƒˆ", "ãƒ”ã‚¢ã‚¹/ã‚¤ãƒ¤ãƒªãƒ³ã‚°", "ãƒ–ãƒ­ãƒ¼ãƒ", "ãã®ä»–"] },
        { label: "ã€ãƒ–ãƒ©ãƒ³ãƒ‰ã€‘", id: "brandName", type: "text", placeholder: "ä¾‹: ã‚«ãƒ«ãƒ†ã‚£ã‚¨ã€ãƒ†ã‚£ãƒ•ã‚¡ãƒ‹ãƒ¼ã€ãƒãƒªãƒ¼ã‚¦ã‚£ãƒ³ã‚¹ãƒˆãƒ³ã€ãƒŸã‚­ãƒ¢ãƒˆã€€ãªã©" },
        { label: "ã€ãƒ¡ã‚¤ãƒ³çŸ³ã®ç¨®é¡ã€‘", id: "gemType", type: "text", placeholder: "ä¾‹: ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ã€ãƒ«ãƒ“ãƒ¼ã€ã‚¢ãƒ¬ã‚­ã‚µãƒ³ãƒ‰ãƒ©ã‚¤ãƒˆã€ãƒ‘ãƒ¼ãƒ«ã€€ãªã©" },
        { label: "ã€ãƒ¡ã‚¤ãƒ³çŸ³ã®é‡é‡ï¼ˆï½ƒï½”ï¼‰ã€‘", id: "carat", type: "text", placeholder: "ä¾‹: 0.56ct" },
        { label: "ã€ãƒ¡ã‚¤ãƒ³çŸ³è©³ç´°ã€‘", id: "clarity", type: "text", placeholder: "ä¾‹: Hã€SI1ã€GOODï¼ˆãƒ€ã‚¤ãƒ¤ã®å ´åˆï¼‰/ãƒ‘ãƒ¼ãƒ«7ï½7.5ãœã€€ãªã©" },
        { label: "ã€ç´ æã€‘", id: "material", type: "text", placeholder: "ä¾‹: Pt900/K18ã€€ãªã©" },
        { label: "ã€ç·é‡é‡ã€‘", id: "totalWeight", type: "text", placeholder: "ä¾‹: 15.2g" },
        { label: "ã€åˆ»å°ã€‘", id: "engraving", type: "text", placeholder: "ä¾‹: 0.56/0.2/ãƒ–ãƒ©ãƒ³ãƒ‰åˆ»å°ã€€ãªã©" },
        { label: "ã€çŠ¶æ…‹ã€‘", id: "condition", type: "text", placeholder: "ä¾‹: å°å‚·ã‚ã‚Šã€ã‚µãƒ“ã‚ã‚Šã€€ãªã©" },
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: é‘‘å®šæ›¸ã€é‘‘åˆ¥æ›¸ã€ã‚±ãƒ¼ã‚¹" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»å®çŸ³å…¨ä½“ã®å†™çœŸ\nãƒ»è¤‡æ•°ã®è§’åº¦ã‹ã‚‰æ’®å½±ï¼ˆæ­£é¢ã€å´é¢ã€è£é¢ï¼‰\nãƒ»åˆ»å°ã®ã‚¢ãƒƒãƒ—ï¼ˆãƒ”ãƒ³ãƒˆã‚’åˆã‚ã›ã¦ï¼‰\nãƒ»ãƒ¡ã‚¤ãƒ³çŸ³ã®å®Ÿç‰©ã«è¿‘ã„è‰²\nãƒ»å…‰ã‚’å½“ã¦ãŸçŠ¶æ…‹ã§ã®è¼ããŒã‚ã‹ã‚‹å†™çœŸ\nãƒ»ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆå†…åŒ…ç‰©ï¼‰ãŒè¦‹ãˆã‚‹å ´åˆã¯ã‚¢ãƒƒãƒ—ã§\nãƒ»å‚·ã‚„æ¬ ã‘ãŒã‚ã‚‹å ´åˆã¯ãã®ç®‡æ‰€ã‚’ã‚¢ãƒƒãƒ—ã§\nãƒ»é‘‘å®šæ›¸/é‘‘åˆ¥æ›¸",
      redEmphasis: "â€»ç™½èƒŒæ™¯ã§æ’®å½±ã™ã‚‹ã“ã¨"
    },
    "ã‚¢ãƒ‘ãƒ¬ãƒ«": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["ã‚¸ãƒ£ã‚±ãƒƒãƒˆ", "ã‚³ãƒ¼ãƒˆ", "ãƒ‘ãƒ³ãƒ„", "ã‚¹ã‚«ãƒ¼ãƒˆ", "ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹", "ã‚·ãƒ£ãƒ„/ãƒ–ãƒ©ã‚¦ã‚¹", "ãƒ‹ãƒƒãƒˆ", "Tã‚·ãƒ£ãƒ„", "ãã®ä»–"] },
        { label: "ã€ãƒ–ãƒ©ãƒ³ãƒ‰åã€‘", id: "brandName", type: "text", placeholder: "ä¾‹: ã‚·ãƒ£ãƒãƒ«ã€ã‚°ãƒƒãƒã€ã‚¨ãƒ«ãƒ¡ã‚¹" },
        { label: "ã€å•†å“åã€‘", id: "productName", type: "text", placeholder: "ä¾‹: ãƒ„ã‚¤ãƒ¼ãƒ‰ã‚¸ãƒ£ã‚±ãƒƒãƒˆ" },
        { label: "ã€ã‚µã‚¤ã‚ºè¡¨è¨˜ã€‘", id: "sizeLabel", type: "text", placeholder: "ä¾‹: 38ã€Mã€9å·" },
        conditionField(true),
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: äºˆå‚™ãƒœã‚¿ãƒ³ã€ãƒãƒ³ã‚¬ãƒ¼ã€ã‚¿ã‚°" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»å…¨ä½“å†™çœŸï¼ˆãƒãƒ³ã‚¬ãƒ¼ã«ã‹ã‘ãŸçŠ¶æ…‹ã€ã¾ãŸã¯å¹³ç½®ãï¼‰\nãƒ»æ­£é¢ã€èƒŒé¢\nãƒ»ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¿ã‚°ã‚„ã‚µã‚¤ã‚ºã€ç´ æè¡¨è¨˜ã‚¿ã‚°\nãƒ»æ±šã‚Œã€ã‚·ãƒŸã€ã»ã¤ã‚Œã€æ¯›ç‰ãªã©ãƒ€ãƒ¡ãƒ¼ã‚¸ç®‡æ‰€\nãƒ»è£åœ°ã®çŠ¶æ…‹\nãƒ»ä»˜å±å“"
    },
    "å®¶é›»": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["ãƒ†ãƒ¬ãƒ“", "æƒé™¤æ©Ÿ", "é›»å­ãƒ¬ãƒ³ã‚¸", "ç‚Šé£¯å™¨", "ãƒ‘ã‚½ã‚³ãƒ³ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ", "ã‚«ãƒ¡ãƒ©", "ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªæ©Ÿå™¨", "ã‚²ãƒ¼ãƒ æ©Ÿ", "ãã®ä»–"] },
        { label: "ã€ãƒ¡ãƒ¼ã‚«ãƒ¼åã€‘", id: "manufacturer", type: "text", placeholder: "ä¾‹: ãƒ‘ãƒŠã‚½ãƒ‹ãƒƒã‚¯ã€ã‚½ãƒ‹ãƒ¼ã€æ±èŠ" },
        { label: "ã€å‹ç•ªã€‘", id: "modelNumber", type: "text", placeholder: "ä¾‹: TH-55JZ2000" },
        { label: "ã€è£½é€ å¹´ã€‘", id: "manufactureYear", type: "text", placeholder: "ä¾‹: 2021å¹´è£½" },
        { label: "ã€å‹•ä½œç¢ºèªã€‘", id: "operationCheck", type: "select", options: ["å‹•ä½œç¢ºèªæ¸ˆã¿", "é€šé›»ç¢ºèªæ¸ˆ", "æœªãƒã‚§ãƒƒã‚¯"] },
        { label: "ã€ã‚µã‚¤ã‚ºãƒ»ã‚¹ãƒšãƒƒã‚¯ã€‘", id: "specs", type: "text", placeholder: "ä¾‹: 13ã‚¤ãƒ³ãƒ/win11/Corei7/ãƒ¡ãƒ¢ãƒª16GB ãªã©" },
        conditionField(true),
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: ãƒªãƒ¢ã‚³ãƒ³ã€é›»æºã‚±ãƒ¼ãƒ–ãƒ«ã€å–æ‰±èª¬æ˜æ›¸ã€å…ƒç®±" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»å…¨ä½“ã®å†™çœŸ\nãƒ»å‹ç•ªã‚·ãƒ¼ãƒ«\nãƒ»è£½é€ å¹´æœˆã®è¨˜è¼‰éƒ¨åˆ†\nãƒ»å‚·ã‚„æ±šã‚ŒãŒã‚ã‚‹ç®‡æ‰€\nãƒ»ä»˜å±å“ï¼ˆèª¬æ˜æ›¸ã‚„ã‚³ãƒ¼ãƒ‰é¡ï¼‰"
    },
    "ã‚¹ãƒãƒ›": {
      fields: [
        { label: "ã€ãƒ¡ãƒ¼ã‚«ãƒ¼ã€‘", id: "manufacturer", type: "text", placeholder: "ä¾‹: ã‚¢ãƒƒãƒ—ãƒ«ã€ã‚µãƒ ã‚¹ãƒ³ã€ã‚°ãƒ¼ã‚°ãƒ«" },
        { label: "ã€å‹ç•ªãƒ»æ©Ÿç¨®åã€‘", id: "modelName", type: "text", placeholder: "ä¾‹: MQ173J/Aã€€iPhone14Pro" },
        { label: "ã€å®¹é‡ã€‘", id: "storage", type: "text", placeholder: "ä¾‹: 128GBã€256GBã€512GB" },
        { label: "ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ©ç”¨åˆ¶é™ã€‘", id: "networkRestriction", type: "select", options: ["ã€‡", "â–³", "Ã—", "ï¼"] },
        { label: "ã€ãƒãƒƒãƒ†ãƒªãƒ¼çŠ¶æ…‹ã€‘", id: "batteryHealth", type: "text", placeholder: "ä¾‹: 88%" },
        conditionField(true),
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: ç®±ã€å……é›»ã‚±ãƒ¼ãƒ–ãƒ«ã€ã‚¤ãƒ¤ãƒ›ãƒ³" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»å…¨ä½“ï¼ˆæ­£é¢ã€èƒŒé¢ã€å´é¢ï¼‰\nãƒ»ãƒ€ãƒ¡ãƒ¼ã‚¸ç®‡æ‰€ï¼ˆã¸ã“ã¿ã€ã‚¬ãƒ©ã‚¹å‰²ã‚Œæ³¨æ„ï¼‰\nãƒ»ã‚«ãƒ¡ãƒ©ãƒ¬ãƒ³ã‚ºéƒ¨åˆ†\nãƒ»ä»˜å±å“ï¼ˆç®±ã€ä¿è¨¼æ›¸ã€ã‚³ãƒ¼ãƒ‰é¡ãªã©ï¼‰"
    },
    "ãƒ›ãƒ“ãƒ¼": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["ãƒ•ã‚£ã‚®ãƒ¥ã‚¢", "ãƒ—ãƒ©ãƒ¢ãƒ‡ãƒ«", "ãƒˆãƒ¬ã‚«", "ã‚²ãƒ¼ãƒ ã‚½ãƒ•ãƒˆ", "ãŠã‚‚ã¡ã‚ƒ", "ãã®ä»–"] },
        { label: "ã€å•†å“åã€‘", id: "productName", type: "text", placeholder: "ä¾‹: ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹ ãƒ•ã‚£ã‚®ãƒ¥ã‚¢ ãƒ«ãƒ•ã‚£" },
        { label: "ã€ãƒ¡ãƒ¼ã‚«ãƒ¼ã€‘", id: "manufacturer", type: "text", placeholder: "ä¾‹: ãƒãƒ³ãƒ€ã‚¤ã€ã‚¿ã‚«ãƒ©ãƒˆãƒŸãƒ¼" },
        { label: "ã€ç™ºå£²å¹´ã€‘", id: "releaseYear", type: "text", placeholder: "ä¾‹: 2023å¹´" },
        { label: "ã€çŠ¶æ…‹ã€‘", id: "condition", type: "text", placeholder: "ä¾‹: æœªé–‹å°ã€é–‹å°æ¸ˆã¿ç¾å“ã€ç®±ãªã—" },
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: å¤–ç®±ã€å†…ç®±ã€èª¬æ˜æ›¸ã€ç‰¹å…¸" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»å•†å“å…¨ä½“ã®å†™çœŸ\nãƒ»å¤–ç®±ï¼ˆæœªé–‹å°ã®å ´åˆã¯ã‚·ãƒ¥ãƒªãƒ³ã‚¯ä»˜ãã®çŠ¶æ…‹ï¼‰\nãƒ»ä»˜å±å“ã‚„ç‰¹å…¸\nãƒ»å‚·ã‚„ç ´æãŒã‚ã‚‹ç®‡æ‰€\nãƒ»é‘‘å®šã‚±ãƒ¼ã‚¹ï¼ˆã‚ã‚Œã°å†…å®¹ãŒåˆ†ã‹ã‚‹ã‚ˆã†ã«ï¼‰"
    },
    "ãŠé…’": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼", "ãƒ–ãƒ©ãƒ³ãƒ‡ãƒ¼", "ãƒ¯ã‚¤ãƒ³", "æ—¥æœ¬é…’", "ç„¼é…", "ã‚·ãƒ£ãƒ³ãƒ‘ãƒ³", "ãã®ä»–"] },
        { label: "ã€éŠ˜æŸ„ã€‘", id: "brand", type: "text", placeholder: "ä¾‹: å±±å´25å¹´ã€ãƒ˜ãƒã‚·ãƒ¼XO" },
        { label: "ã€å®¹é‡ã€‘", id: "volume", type: "text", placeholder: "ä¾‹: 700mlã€750ml" },
        { label: "ã€åº¦æ•°ã€‘", id: "alcoholContent", type: "text", placeholder: "ä¾‹: 43%ã€40%" },
        { label: "ã€çŠ¶æ…‹ã€‘", id: "condition", type: "text", placeholder: "ä¾‹: ç›®æ¸›ã‚Šã€ãƒ©ãƒ™ãƒ«æ±šã‚Œã‚ã‚Š" },
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: ç®±ã€æ›¿ãˆæ “ã€å†Šå­" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»ãƒœãƒˆãƒ«å…¨ä½“ã®å†™çœŸï¼ˆæ­£é¢ã€èƒŒé¢ï¼‰\nãƒ»ãƒ©ãƒ™ãƒ«éƒ¨åˆ†ï¼ˆéŠ˜æŸ„ã€å®¹é‡ã€åº¦æ•°ãŒã¯ã£ãã‚Šè¦‹ãˆã‚‹ã‚ˆã†ã«ï¼‰\nãƒ»æ¶²é¢ã®é«˜ã•ãŒã‚ã‹ã‚‹å†™çœŸ\nãƒ»ã‚­ãƒ£ãƒƒãƒ—ã‚„ã‚³ãƒ«ã‚¯ã®çŠ¶æ…‹\nãƒ»ãƒœãƒˆãƒ«ã®åº•\nãƒ»ãƒ©ãƒ™ãƒ«ã®æ±šã‚Œã‚„ç ´ã‚ŒãŒã‚ã‚‹ç®‡æ‰€\nãƒ»ä»˜å±å“",
      redEmphasis: "â€»åŒ‚ã„ãŒã™ã‚‹å ´åˆã¯æ¼ã‚Œã¦ã„ã‚‹"
    },
    "éª¨è‘£": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["ç®±æœ‰ã‚Š", "ç®±ç„¡ã—", "å¤§å‹å•†å“", "å¤§é‡", "ãã®ä»–"] },
        { label: "ã€ä½œå®¶åã€‘", id: "artistName", type: "text", placeholder: "ä¾‹: äººé–“å›½å®ã€‡ã€‡" },
        { label: "ã€ä½œå“åã€‘", id: "artworkName", type: "text", placeholder: "ä¾‹: å¿—é‡èŒ¶ç¢—" },
        { label: "ã€ã‚µã‚¤ã‚ºã€‘", id: "size", type: "text", placeholder: "ä¾‹: é«˜ã•10cmã€ç›´å¾„15cm" },
        { label: "ã€çŠ¶æ…‹ã€‘", id: "condition", type: "text", placeholder: "ä¾‹: ãƒ’ãƒ“ã‚ã‚Šã€æ¬ ã‘ã‚ã‚Š" },
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: é‘‘å®šæ›¸ã€ç”±æ¥æ›¸ã€å…±å¸ƒ" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»éª¨è‘£å“å…¨ä½“ã®å†™çœŸï¼ˆè¤‡æ•°ã®è§’åº¦ã‹ã‚‰ï¼‰\nãƒ»éŠ˜ã‚„è½æ¬¾ï¼ˆã‚µã‚¤ãƒ³ï¼‰éƒ¨åˆ†ã‚’ã‚¢ãƒƒãƒ—ã§\nãƒ»å…±ç®±ã®è¡¨é¢ã¨å†…å´ï¼ˆç®±æ›¸ããŒã‚ã‚‹å ´åˆï¼‰\nãƒ»å‚·ã€ãƒ’ãƒ“ã€æ¬ ã‘ã€ä¿®å¾©ç®‡æ‰€\nãƒ»é«˜å°ï¼ˆé™¶ç£å™¨ã®åº•éƒ¨åˆ†ï¼‰\nãƒ»ä»˜å±å“"
    },
    "æ¥½å™¨": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["ã‚®ã‚¿ãƒ¼", "ãƒ™ãƒ¼ã‚¹", "ç®¡æ¥½å™¨", "å¼¦æ¥½å™¨", "å’Œæ¥½å™¨", "ãã®ä»–"] },
        { label: "ã€ãƒ¡ãƒ¼ã‚«ãƒ¼/ãƒ–ãƒ©ãƒ³ãƒ‰ã€‘", id: "manufacturer", type: "text", placeholder: "ä¾‹: ãƒ•ã‚§ãƒ³ãƒ€ãƒ¼ã€ã‚®ãƒ–ã‚½ãƒ³ã€ãƒ¤ãƒãƒ" },
        { label: "ã€ãƒ¢ãƒ‡ãƒ«åãƒ»å‹ç•ªã€‘", id: "modelName", type: "text", placeholder: "ä¾‹: ã‚¹ãƒˆãƒ©ãƒˆã‚­ãƒ£ã‚¹ã‚¿ãƒ¼ã€ãƒ¬ã‚¹ãƒãƒ¼ãƒ«" },
        { label: "ã€ã‚·ãƒªã‚¢ãƒ«ç•ªå·ã€‘", id: "serial", type: "text", placeholder: "ä¾‹: V123456" },
        { label: "ã€çŠ¶æ…‹ã€‘", id: "condition", type: "text", placeholder: "ä¾‹: ã‚¯ãƒ©ãƒƒã‚¯ã€ãƒ•ãƒ¬ãƒƒãƒˆæ¸›ã‚Šã€ã¸ã“ã¿ã‚ã‚Š" },
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: ã‚±ãƒ¼ã‚¹ã€ã‚¹ãƒˆãƒ©ãƒƒãƒ—ã€ãƒ”ãƒƒã‚¯ã€ä¿è¨¼æ›¸" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»æ¥½å™¨å…¨ä½“ã®å†™çœŸï¼ˆæ­£é¢ã€èƒŒé¢ã€å´é¢ï¼‰\nãƒ»ãƒ–ãƒ©ãƒ³ãƒ‰ãƒ­ã‚´ã‚„ãƒ¢ãƒ‡ãƒ«åã®è¨˜è¼‰éƒ¨åˆ†\nãƒ»ã‚·ãƒªã‚¢ãƒ«ç•ªå·\nãƒ»ãƒ•ãƒ¬ãƒƒãƒˆã‚„ãƒãƒƒã‚¯ã®çŠ¶æ…‹ï¼ˆã‚®ã‚¿ãƒ¼/ãƒ™ãƒ¼ã‚¹ã®å ´åˆï¼‰\nãƒ»å‚·ã‚„æ‰“ç—•ãŒã‚ã‚‹ç®‡æ‰€\nãƒ»ä»˜å±å“"
    },
    "æ—¥æœ¬åˆ€": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["çŸ­åˆ€ï¼ˆï½ï¼‘å°ºï¼ˆï½30.3cmï¼‰æœªæº€ï¼‰", "è„‡å·®ï¼ˆï½ï¼’å°ºï¼ˆï½60.6cmï¼‰æœªæº€ï¼‰", "åˆ€ï¼ˆï½ï¼’å°ºï¼ˆ60.6cmï¼‰ä»¥ä¸Šï¼‰", "æ§", "è–™åˆ€", "ãã®ä»–"] },
        { label: "ã€éŠ˜ã€‘", id: "inscription", type: "text", placeholder: "ä¾‹: ã€‡ã€‡ï¼ˆåˆ€å·¥åï¼‰ã€ç„¡éŠ˜" },
        { label: "ã€åˆƒé•·ã€‘", id: "bladeLength", type: "text", placeholder: "ä¾‹: 70.5cm" },
        { label: "ã€ç›®é‡˜ç©´æ•°ã€‘", id: "mekugiHoles", type: "text", placeholder: "ä¾‹: ï¼’å€‹" },
        { label: "ã€èº«å¹…ã€‘â€»å…ƒå¹…ï¼ˆåˆ€èº«ã®æ ¹æœ¬ã‚ãŸã‚Šï¼‰", id: "bodyWidth", type: "text", placeholder: "ä¾‹: 2.8cm", templateLabel: "ã€èº«å¹…ã€‘â€»å…ƒå¹…" },
        { label: "ã€ç™½é˜oræ‹µã€‘", id: "mounting", type: "select", options: ["ç™½é˜", "æ‹µ", "ç™½é˜ã¨æ‹µã©ã¡ã‚‰ã‚‚ä»˜å±"] },
        { label: "ã€çŠ¶æ…‹ã€‘", id: "condition", type: "text", placeholder: "ä¾‹: éŒ†ã‚ã‚Šã€åˆƒã“ã¼ã‚Œã‚ã‚Šã€è‰¯å¥½" },
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: é‘‘å®šæ›¸" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "â€»åˆƒé•·ã¯ãƒ¡ã‚¸ãƒ£ãƒ¼ã‚’ã‚ã¦ãŸå†™çœŸ\nâ€»èŒï¼ˆãªã‹ã”ï¼‰ï¼ˆæŸ„ã‚’å¤–ã—ãŸã¨ã“ã‚ï¼‰ã®å†™çœŸ\nãƒ»åˆ€èº«å…¨ä½“ã®å†™çœŸ\nãƒ»åˆ‡ã£å…ˆï¼ˆåˆ€ã®å…ˆç«¯éƒ¨åˆ†ï¼‰\nãƒ»åˆƒæ–‡ãŒã‚ã‹ã‚‹å†™çœŸãƒ»ç™½é˜ã¾ãŸã¯æ‹µã®å†™çœŸ\nãƒ»éŒ†ã‚„åˆƒã“ã¼ã‚ŒãŒã‚ã‚‹ç®‡æ‰€\nãƒ»ç™»éŒ²è¨¼\nãƒ»ä»˜å±å“",
      redEmphasis: "â€»ç¨®é¡ã‚„åˆƒé•·ã€éŠ˜ãŒç™»éŒ²è¨¼ã¨é•ã†å ´åˆè²·å–ä¸å¯ã®å¯èƒ½æ€§å¤§"
    },
    "è¨˜å¿µç¡¬è²¨": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["é‡‘è²¨", "éŠ€è²¨", "ç´™å¹£", "ãã®ä»–"] },
        { label: "ã€ç¨®é¡ã€‘", id: "type", type: "text", placeholder: "ä¾‹: å¤©çš‡é™›ä¸‹å¾¡åœ¨ä½è¨˜å¿µ10ä¸‡å††é‡‘è²¨" },
        { label: "ã€ç´ æã€‘", id: "material", type: "text", placeholder: "ä¾‹: ç´”é‡‘ã€ç´”éŠ€" },
        { label: "ã€é‡é‡ã€‘", id: "weight", type: "text", placeholder: "ä¾‹: 30g" },
        { label: "ã€æ¯”é‡å€¤ã€‘", id: "specificGravity", type: "text", placeholder: "ä¾‹: 19.3" },
        { label: "ã€çŠ¶æ…‹ã€‘", id: "condition", type: "text", placeholder: "ä¾‹: æœªä½¿ç”¨ã€å‚·ã‚ã‚Š" },
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: ã‚±ãƒ¼ã‚¹ã€ãƒ–ãƒªã‚¹ã‚¿ãƒ¼ã€ä¿è¨¼æ›¸" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»å…¨ä½“ï¼ˆè¡¨/è£ï¼‰\nãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¢ãƒƒãƒ—\nãƒ»é‡é‡ãƒ»æ¯”é‡ã‚’é‡ã£ãŸå†™çœŸï¼ˆå¿…è¦ã§ã‚ã‚Œã°ï¼‰"
    },
    "å¤éŠ­": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["é‡‘è²¨", "éŠ€è²¨", "ãã®ä»–"] },
        { label: "ã€ç¨®é¡ã€‘", id: "type", type: "text", placeholder: "ä¾‹: å°åˆ¤ã€å¤§åˆ¤" },
        { label: "ã€ç´ æã€‘", id: "material", type: "text", placeholder: "ä¾‹: é‡‘ã€éŠ€" },
        { label: "ã€é‡é‡ã€‘", id: "weight", type: "text", placeholder: "ä¾‹: 15g" },
        { label: "ã€æ¯”é‡å€¤ã€‘", id: "specificGravity", type: "text", placeholder: "ä¾‹: 19.3" },
        { label: "ã€çŠ¶æ…‹ã€‘", id: "condition", type: "text", placeholder: "ä¾‹: æ‘©è€—ã‚ã‚Šã€è‰¯å¥½" },
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "ä¾‹: é‘‘å®šæ›¸" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»å…¨ä½“ï¼ˆè¡¨/è£ï¼‰\nãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¢ãƒƒãƒ—\nãƒ»é‡é‡ãƒ»æ¯”é‡ã‚’é‡ã£ãŸå†™çœŸï¼ˆå¿…è¦ã§ã‚ã‚Œã°ï¼‰"
    },
    "ãã®ä»–é“å…·é¡": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["é‡£å…·", "ã‚´ãƒ«ãƒ•é“å…·", "é›»å‹•å·¥å…·", "é¦™æ°´", "ãã®ä»–"] },
        { label: "ã€ãƒ¡ãƒ¼ã‚«ãƒ¼ã€‘", id: "manufacturer", type: "text", placeholder: "" },
        { label: "ã€ç¨®é¡ã€‘", id: "type", type: "text", placeholder: "" },
        { label: "ã€å‹ç•ªãƒ»ãƒ¢ãƒ‡ãƒ«åã€‘", id: "modelNumber", type: "text", placeholder: "" },
        { label: "ã€çŠ¶æ…‹ã€‘", id: "condition", type: "text", placeholder: "" },
        { label: "ã€ä»˜å±å“ã€‘", id: "accessories", type: "text", placeholder: "" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»å‹ç•ªãªã©ãŒã‚ã‹ã‚‹éƒ¨åˆ†(ãƒ©ãƒ™ãƒ«ãªã©)ãŒã‚ã‚Œã°æ’®å½±æ¨å¥¨"
    },
    "é‡‘åˆ¸": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "select", options: ["åˆ‡æ‰‹", "ä¸­å›½åˆ‡æ‰‹", "æµ·å¤–åˆ‡æ‰‹", "ã‚®ãƒ•ãƒˆåˆ¸", "å„ç¨®ã‚«ãƒ¼ãƒ‰é¡", "æ ªä¸»å„ªå¾…åˆ¸", "ãã®ä»–"] },
        { label: "ã€ç¨®é¡ã€‘", id: "type", type: "text", placeholder: "" },
        { label: "ã€é¡é¢ã€‘", id: "faceValue", type: "text", placeholder: "" },
        { label: "ã€æœ‰åŠ¹æœŸé™ã€‘", id: "expiryDate", type: "text", placeholder: "" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»è¡¨é¢/è£é¢\nãƒ»ãƒ€ãƒ¡ãƒ¼ã‚¸ç®‡æ‰€"
    },
    "ãã®ä»–": {
      fields: [
        { label: "ã€ä¸­åˆ†é¡ã€‘", id: "subcategory", type: "text", placeholder: "è‡ªç”±å…¥åŠ›" },
        { label: "ã€ãƒ¡ãƒ¼ã‚«ãƒ¼ã€‘", id: "manufacturer", type: "text", placeholder: "" },
        { label: "ã€å‹ç•ªãªã©ã®ç‰¹å¾´ã€‘", id: "modelFeatures", type: "text", placeholder: "" },
        commonFields.customerPrice,
        commonFields.estimatedPrice,
        commonFields.remarks
      ],
      photoInstructions: "ãƒ»å‹ç•ªã‚„ãƒ¢ãƒ‡ãƒ«åãŒåˆ†ã‹ã‚‹ã‚‚ã®ãŒã‚ã‚Œã°æ’®å½±æ¨å¥¨"
    }
  };

  // ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
  const notifyHeightChange = () => {
    if (window.parent !== window) {
      const height = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, 
        document.body.offsetHeight, document.documentElement.offsetHeight,
        document.body.clientHeight, document.documentElement.clientHeight);
      window.parent.postMessage({ type: 'resize', height: height }, '*');
    }
  };

  const forceNotifyHeight = () => {
    notifyHeightChange();
    [100, 300, 600, 1000].forEach(delay => setTimeout(notifyHeightChange, delay));
  };

  const autoResizeTextarea = (textarea) => {
    textarea.style.height = 'auto';
    textarea.style.height = Math.max(40, textarea.scrollHeight) + 'px';
    forceNotifyHeight();
  };

  const updateSelectStyle = (selectElement) => {
    selectElement.classList.toggle('unselected', !selectElement.value || selectElement.value === "é¸æŠã—ã¦ãã ã•ã„");
  };

  const switchScreen = (screen) => {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.getElementById(screen === 'main' ? 'mainScreen' : 
                           screen === 'manual' ? 'manualScreen' : 'telephoneScreen').classList.add('active');
    forceNotifyHeight();
  };

  // å‹•çš„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç”Ÿæˆ
  const genreSelect = document.getElementById('genre');
  genreSelect.addEventListener('change', function() {
    updateSelectStyle(this);
    const genre = this.value;
    const dynamicFields = document.getElementById('dynamicFields');
    dynamicFields.innerHTML = '';

    if (!genre || !genreData[genre]) return;

    const data = genreData[genre];
    data.fields.forEach(field => {
      const formGroup = document.createElement('div');
      formGroup.className = 'form-group';

      const label = document.createElement('label');
      label.textContent = field.label;
      formGroup.appendChild(label);

      if (field.type === 'select') {
        const select = document.createElement('select');
        select.id = field.id;
        select.className = 'unselected';
        select.innerHTML = '<option value="">é¸æŠã—ã¦ãã ã•ã„</option>' + 
          field.options.map(opt => `<option value="${opt}">${opt}</option>`).join('');
        select.addEventListener('change', () => updateSelectStyle(select));
        formGroup.appendChild(select);
      } else if (field.type === 'select+text') {
        const flexDiv = document.createElement('div');
        flexDiv.className = 'flex-input';

        const select = document.createElement('select');
        select.id = field.id + 'Select';
        select.style.flex = '3';
        select.className = 'unselected';
        select.innerHTML = '<option value="">é¸æŠã—ã¦ãã ã•ã„</option>' + 
          field.options.map(opt => `<option value="${opt}">${opt}</option>`).join('');
        select.addEventListener('change', () => updateSelectStyle(select));

        const input = document.createElement('input');
        input.type = 'text';
        input.id = field.id + 'Text';
        input.placeholder = field.placeholder;
        input.style.flex = '7';

        flexDiv.append(select, input);
        formGroup.appendChild(flexDiv);
      } else {
        const input = document.createElement('input');
        input.type = 'text';
        input.id = field.id;
        input.placeholder = field.placeholder;
        formGroup.appendChild(input);
      }

      dynamicFields.appendChild(formGroup);
    });

    // å†™çœŸæ’®å½±æŒ‡ç¤º
    if (data.photoInstructions) {
      const photoGroup = document.createElement('div');
      photoGroup.className = 'form-group';
      
      const photoLabel = document.createElement('label');
      photoLabel.textContent = 'ã€å†™çœŸæ’®å½±æŒ‡ç¤ºã€‘';
      photoGroup.appendChild(photoLabel);

      if (data.redEmphasis) {
        const redText = document.createElement('span');
        redText.className = 'red-emphasis';
        redText.textContent = data.redEmphasis;
        photoGroup.appendChild(redText);
      }

      const photoTextarea = document.createElement('textarea');
      photoTextarea.className = 'photo-instructions';
      photoTextarea.readOnly = true;
      photoTextarea.value = data.photoInstructions;
      photoTextarea.style.backgroundColor = '#f9f9f9';
      setTimeout(() => autoResizeTextarea(photoTextarea), 100);
      
      photoGroup.appendChild(photoTextarea);
      dynamicFields.appendChild(photoGroup);
    }

    forceNotifyHeight();
  });

  // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆé–¢æ•°
  const getFieldValue = (field) => {
    if (field.type === 'select') {
      const elem = document.getElementById(field.id);
      return elem && elem.value && elem.value !== 'é¸æŠã—ã¦ãã ã•ã„' ? elem.value : null;
    } else if (field.type === 'select+text') {
      const select = document.getElementById(field.id + 'Select');
      const input = document.getElementById(field.id + 'Text');
      const selectVal = select?.value;
      const inputVal = input?.value.trim();
      
      if (selectVal && selectVal !== 'é¸æŠã—ã¦ãã ã•ã„') {
        return inputVal ? `${selectVal}ï¼ˆ${inputVal}ï¼‰` : selectVal;
      }
      return inputVal || null;
    } else {
      const elem = document.getElementById(field.id);
      return elem?.value.trim() || null;
    }
  };

  const generateTemplate = () => {
    const storeName = document.getElementById('storeName').value.trim();
    const genre = genreSelect.value;

    if (!storeName) return alert('ã€æ‹…å½“åº—èˆ—ãƒ»å‚¬äº‹ã€‘ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
    if (!genre) return alert('ã€ã‚¸ãƒ£ãƒ³ãƒ«ã€‘ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚');

    let template = `ã€æ‹…å½“åº—èˆ—ãƒ»å‚¬äº‹ã€‘\n${storeName}\nã€ã‚¸ãƒ£ãƒ³ãƒ«ã€‘\n${genre}\n`;

    const data = genreData[genre];
    if (data) {
      data.fields.forEach(field => {
        const value = getFieldValue(field);
        if (value) {
          // templateLabelãŒã‚ã‚Œã°ãã‚Œã‚’ä½¿ç”¨ã€ãªã‘ã‚Œã°field.labelã‚’ä½¿ç”¨
          const displayLabel = field.templateLabel || field.label;
          template += `${displayLabel}\n${value}\n`;
        }
      });
    }

    const outputArea = document.getElementById('outputArea');
    outputArea.textContent = template;
    outputArea.style.minHeight = Math.max(40, outputArea.scrollHeight) + 'px';
    forceNotifyHeight();
  };

  // ========== ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½ï¼ˆäº’æ›æ€§å¼·åŒ–ç‰ˆï¼‰ ==========

  // ãƒ¡ã‚¤ãƒ³ã®ã‚³ãƒ”ãƒ¼é–¢æ•°ï¼ˆè²·å–ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”¨ï¼‰
  const copyToClipboard = () => {
    const text = document.getElementById('outputArea').textContent;
    if (!text) return alert('ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒç”Ÿæˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚');

    // æ–°ã—ã„æ–¹æ³•ã‚’å„ªå…ˆçš„ã«è©¦ã™
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(text)
        .then(() => showCopySuccess('copyBtn'))
        .catch(() => fallbackCopy(text, 'copyBtn')); // å¤±æ•—æ™‚ã¯å¤ã„æ–¹æ³•
    } else {
      // æ–°ã—ã„æ–¹æ³•ãŒä½¿ãˆãªã„ç’°å¢ƒã§ã¯æœ€åˆã‹ã‚‰å¤ã„æ–¹æ³•
      fallbackCopy(text, 'copyBtn');
    }
  };

  // å—é›»å¯¾å¿œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”¨
  const copyTelephoneToClipboard = () => {
    const text = document.getElementById('telOutputArea').textContent;
    if (!text) return alert('ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒç”Ÿæˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚');

    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(text)
        .then(() => showCopySuccess('telCopyBtn'))
        .catch(() => fallbackCopy(text, 'telCopyBtn'));
    } else {
      fallbackCopy(text, 'telCopyBtn');
    }
  };

  // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ–¹å¼ï¼ˆå¤ã„æ–¹æ³•ãƒ»å…¨ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œï¼‰
  const fallbackCopy = (text, btnId = 'copyBtn') => {
    // ä¸€æ™‚çš„ãªéè¡¨ç¤ºãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã‚’ä½œæˆ
    const textarea = document.createElement('textarea');
    textarea.value = text;
    textarea.style.position = 'fixed';
    textarea.style.top = '0';
    textarea.style.left = '0';
    textarea.style.width = '2em';
    textarea.style.height = '2em';
    textarea.style.padding = '0';
    textarea.style.border = 'none';
    textarea.style.outline = 'none';
    textarea.style.boxShadow = 'none';
    textarea.style.background = 'transparent';
    textarea.style.opacity = '0';
    textarea.setAttribute('readonly', '');
    
    document.body.appendChild(textarea);
    
    // iOSå¯¾å¿œã®é¸æŠå‡¦ç†
    if (navigator.userAgent.match(/ipad|iphone/i)) {
      const range = document.createRange();
      range.selectNodeContents(textarea);
      const selection = window.getSelection();
      selection.removeAllRanges();
      selection.addRange(range);
      textarea.setSelectionRange(0, text.length);
    } else {
      textarea.select();
    }
    
    try {
      const successful = document.execCommand('copy');
      if (successful) {
        showCopySuccess(btnId);
      } else {
        alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ†ã‚­ã‚¹ãƒˆã‚’æ‰‹å‹•ã§é¸æŠã—ã¦ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚');
      }
    } catch (err) {
      console.error('ã‚³ãƒ”ãƒ¼ã‚¨ãƒ©ãƒ¼:', err);
      alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');
    }
    
    document.body.removeChild(textarea);
  };

  // ã‚³ãƒ”ãƒ¼æˆåŠŸæ™‚ã®è¦–è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
  const showCopySuccess = (btnId) => {
    const btn = document.getElementById(btnId);
    const originalText = btn.textContent;
    
    btn.textContent = 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!';
    
    if (btnId === 'copyBtn') {
      btn.classList.add('copied');
    } else if (btnId === 'telCopyBtn') {
      btn.style.background = 'linear-gradient(135deg, #66bb6a 0%, #43a047 100%)';
    }
    
    setTimeout(() => {
      btn.textContent = originalText;
      
      if (btnId === 'copyBtn') {
        btn.classList.remove('copied');
      } else if (btnId === 'telCopyBtn') {
        btn.style.background = 'linear-gradient(135deg, #4db6ac 0%, #26a69a 100%)';
      }
    }, 2000);
  };

  // ========== ã“ã“ã¾ã§ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½ ==========

  const clearTemplate = () => {
    const outputArea = document.getElementById('outputArea');
    outputArea.textContent = '';
    outputArea.style.minHeight = '40px';
    forceNotifyHeight();
  };

  const clearMemo = () => document.getElementById('memo').value = '';
  const clearTelMemo = () => document.getElementById('telMemo').value = '';

  // å—é›»å¯¾å¿œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
  const generateTelephoneTemplate = () => {
    const storeName = document.getElementById('telStoreName').value.trim();
    if (!storeName) return alert('ã€åº—èˆ—/ä¼šå ´åã€‘ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');

    let template = `ã€åº—èˆ—/ä¼šå ´åã€‘\n${storeName}\n`;

    const fields = [
      { label: 'ã€ä¾é ¼ã€‘', id: 'telRequest' },
      { label: 'ã€ãŠå®¢æ§˜æ°åï¼ˆã‚«ã‚¿ã‚«ãƒŠï¼‰ã€‘', id: 'telCustomerName' },
      { label: 'ã€é›»è©±ç•ªå·ã€‘', id: 'telPhoneNumber' },
      { label: 'ã€å•†å“ã€‘', id: 'telProduct' },
      { label: 'ã€å†…å®¹ã€‘', id: 'telContent' },
      { label: 'ã€ä½æ‰€ã€‘ï¼ˆâ€»å‡ºå¼µã®å ´åˆï¼‰', id: 'telAddress', templateLabel: 'ã€ä½æ‰€ã€‘' }
    ];

    fields.forEach(field => {
      const value = document.getElementById(field.id)?.value.trim();
      if (value) {
        const displayLabel = field.templateLabel || field.label;
        template += `${displayLabel}\n${value}\n`;
      }
    });

    // ãŠå®¢æ§˜æƒ…å ±
    const customerSelect = document.getElementById('telCustomerInfoSelect')?.value;
    const customerText = document.getElementById('telCustomerInfoText')?.value.trim();
    if (customerSelect && customerSelect !== 'é¸æŠã—ã¦ãã ã•ã„') {
      template += `ã€ãŠå®¢æ§˜æƒ…å ±ã€‘\n${customerText ? `${customerSelect}ï¼ˆ${customerText}ï¼‰` : customerSelect}\n`;
    } else if (customerText) {
      template += `ã€ãŠå®¢æ§˜æƒ…å ±ã€‘\n${customerText}\n`;
    }

    // é§è»Šå ´
    const parkingSelect = document.getElementById('telParkingSelect')?.value;
    const parkingText = document.getElementById('telParkingText')?.value.trim();
    if (parkingSelect && parkingSelect !== 'é¸æŠã—ã¦ãã ã•ã„') {
      template += `ã€é§è»Šå ´ã€‘\n${parkingText ? `${parkingSelect}ï¼ˆ${parkingText}ï¼‰` : parkingSelect}\n`;
    } else if (parkingText) {
      template += `ã€é§è»Šå ´ã€‘\n${parkingText}\n`;
    }

    const telOutputArea = document.getElementById('telOutputArea');
    telOutputArea.textContent = template;
    telOutputArea.style.minHeight = Math.max(40, telOutputArea.scrollHeight) + 'px';
    forceNotifyHeight();
  };

  const clearTelephoneTemplate = () => {
    const telOutputArea = document.getElementById('telOutputArea');
    telOutputArea.textContent = '';
    telOutputArea.style.minHeight = '40px';
    forceNotifyHeight();
  };

  // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
  document.getElementById('telephoneBtn').addEventListener('click', () => switchScreen('telephone'));
  
  ['telCustomerInfoSelect', 'telParkingSelect'].forEach(id => {
    const elem = document.getElementById(id);
    if (elem) elem.addEventListener('change', () => updateSelectStyle(elem));
  });

  // åˆæœŸåŒ–
  window.onload = () => {
    setTimeout(forceNotifyHeight, 300);

    const manualContent = document.querySelector('.manual-content');
    if (manualContent) {
      new MutationObserver(forceNotifyHeight).observe(manualContent, {
        childList: true, subtree: true, characterData: true
      });
    }

    let checkCount = 0;
    const heightChecker = setInterval(() => {
      notifyHeightChange();
      if (++checkCount > 60) {
        clearInterval(heightChecker);
        setInterval(notifyHeightChange, 2000);
      }
    }, 500);
  };

  if ('ontouchstart' in window) {
    document.body.style.webkitOverflowScrolling = 'touch';
  }
</script>

</body>
</html>
